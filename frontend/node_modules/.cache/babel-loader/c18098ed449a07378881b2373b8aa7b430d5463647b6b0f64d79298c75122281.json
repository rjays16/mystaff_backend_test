{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport UploadModal from \"@/components/Modal/UploadModal.vue\";\nimport { mapState, mapActions } from 'vuex';\nimport Swal from 'sweetalert2';\nimport AuthService from \"../../AuthService\";\nexport default {\n  name: 'App',\n  components: {\n    UploadModal\n  },\n  data() {\n    return {\n      fields: [{\n        key: 'id',\n        label: 'ID'\n      }, {\n        key: 'name',\n        label: 'Name'\n      }, {\n        key: 'size',\n        label: 'Size',\n        formatter: this.formatSize\n      }, {\n        key: 'actions',\n        label: 'Actions'\n      }]\n    };\n  },\n  computed: {\n    ...mapState({\n      videos: state => state.videos\n    })\n  },\n  methods: {\n    ...mapActions(['fetchVideos', 'logout']),\n    showUploadModal() {\n      this.$refs.uploadModal.showModal();\n    },\n    async deleteVideo(id) {\n      try {\n        console.log('Deleting video with id:', id);\n        await this.$store.dispatch('deleteVideo', id);\n        Swal.fire({\n          title: 'Success!',\n          text: 'Video successfully deleted',\n          icon: 'success',\n          confirmButtonText: 'OK'\n        });\n      } catch (error) {\n        console.error('Error deleting video:', error);\n        Swal.fire({\n          title: 'Error!',\n          text: 'Failed to delete video',\n          icon: 'error',\n          confirmButtonText: 'OK'\n        });\n      }\n    },\n    async logout() {\n      try {\n        await this.$store.dispatch('logout');\n        AuthService.removeToken();\n        AuthService.removeUser();\n        Swal.fire({\n          title: 'Logged Out',\n          text: 'You have been successfully logged out.',\n          icon: 'success',\n          confirmButtonText: 'OK'\n        }).then(() => {\n          this.$router.push('/login');\n        });\n      } catch (error) {\n        console.error('Error logging out:', error);\n        Swal.fire({\n          title: 'Error!',\n          text: 'Failed to logout',\n          icon: 'error',\n          confirmButtonText: 'OK'\n        });\n      }\n    },\n    formatSize(sizeInBytes) {\n      if (sizeInBytes === 0) return '0 B';\n      const units = ['B', 'KB', 'MB', 'GB', 'TB'];\n      const digitGroups = Math.floor(Math.log(sizeInBytes) / Math.log(1024));\n      return `${(sizeInBytes / Math.pow(1024, digitGroups)).toFixed(2)} ${units[digitGroups]}`;\n    }\n  },\n  created() {\n    if (AuthService.isAuthenticated()) {\n      this.fetchVideos();\n    } else {\n      this.$router.push('/login');\n    }\n  }\n};","map":{"version":3,"names":["UploadModal","mapState","mapActions","Swal","AuthService","name","components","data","fields","key","label","formatter","formatSize","computed","videos","state","methods","showUploadModal","$refs","uploadModal","showModal","deleteVideo","id","console","log","$store","dispatch","fire","title","text","icon","confirmButtonText","error","logout","removeToken","removeUser","then","$router","push","sizeInBytes","units","digitGroups","Math","floor","pow","toFixed","created","isAuthenticated","fetchVideos"],"sources":["C:\\xampp\\htdocs\\assessment_test\\ui\\src\\components\\Main.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <b-container>\r\n      <b-row class=\"mb-3\">\r\n        <b-col>\r\n          <h1>Video List</h1>\r\n          <b-button size=\"md\" variant=\"success\" class=\"float-start\" @click=\"showUploadModal\">Upload Video</b-button>\r\n          <b-button size=\"md\" variant=\"danger\" class=\"float-end\" @click=\"logout\">Logout</b-button>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n          <b-table striped hover :items=\"videos\" :fields=\"fields\" :show-empty=\"videos.length === 0\">\r\n            <template #cell(actions)=\"data\">\r\n              <b-button size=\"sm\" variant=\"danger\" @click=\"deleteVideo(data.item.id)\">Delete</b-button>\r\n            </template>\r\n            <template #empty>\r\n              <div class=\"text-center\">\r\n                Empty Data\r\n              </div>\r\n            </template>\r\n          </b-table>\r\n        </b-col>\r\n      </b-row>\r\n      <UploadModal ref=\"uploadModal\" @video-uploaded=\"fetchVideos\" />\r\n    </b-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UploadModal from \"@/components/Modal/UploadModal.vue\";\r\nimport { mapState, mapActions } from 'vuex';\r\nimport Swal from 'sweetalert2';\r\nimport AuthService from \"../../AuthService\";\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: { UploadModal },\r\n  data() {\r\n    return {\r\n      fields: [\r\n        { key: 'id', label: 'ID' },\r\n        { key: 'name', label: 'Name' },\r\n        { key: 'size', label: 'Size', formatter: this.formatSize },\r\n        { key: 'actions', label: 'Actions' }\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      videos: state => state.videos\r\n    }),\r\n  },\r\n  methods: {\r\n    ...mapActions(['fetchVideos', 'logout']),\r\n    showUploadModal() {\r\n      this.$refs.uploadModal.showModal();\r\n    },\r\n    async deleteVideo(id) {\r\n      try {\r\n        console.log('Deleting video with id:', id);\r\n        await this.$store.dispatch('deleteVideo', id);\r\n        Swal.fire({\r\n          title: 'Success!',\r\n          text: 'Video successfully deleted',\r\n          icon: 'success',\r\n          confirmButtonText: 'OK'\r\n        });\r\n      } catch (error) {\r\n        console.error('Error deleting video:', error);\r\n        Swal.fire({\r\n          title: 'Error!',\r\n          text: 'Failed to delete video',\r\n          icon: 'error',\r\n          confirmButtonText: 'OK'\r\n        });\r\n      }\r\n    },\r\n    async logout() {\r\n      try {\r\n        await this.$store.dispatch('logout');\r\n        AuthService.removeToken();\r\n        AuthService.removeUser();\r\n        Swal.fire({\r\n          title: 'Logged Out',\r\n          text: 'You have been successfully logged out.',\r\n          icon: 'success',\r\n          confirmButtonText: 'OK'\r\n        }).then(() => {\r\n          this.$router.push('/login');\r\n        });\r\n      } catch (error) {\r\n        console.error('Error logging out:', error);\r\n        Swal.fire({\r\n          title: 'Error!',\r\n          text: 'Failed to logout',\r\n          icon: 'error',\r\n          confirmButtonText: 'OK'\r\n        });\r\n      }\r\n    },\r\n    formatSize(sizeInBytes) {\r\n      if (sizeInBytes === 0) return '0 B';\r\n\r\n      const units = ['B', 'KB', 'MB', 'GB', 'TB'];\r\n      const digitGroups = Math.floor(Math.log(sizeInBytes) / Math.log(1024));\r\n\r\n      return `${(sizeInBytes / Math.pow(1024, digitGroups)).toFixed(2)} ${units[digitGroups]}`;\r\n    },\r\n  },\r\n  created() {\r\n    if (AuthService.isAuthenticated()) {\r\n      this.fetchVideos();\r\n    } else {\r\n      this.$router.push('/login');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}